<template>
    <div class="calorie-balance-chart-demo">
        <van-nav-bar title="CalorieBalanceChart å¡è·¯é‡Œå¹³è¡¡å›¾" left-arrow fixed @click-left="goBack" />

        <div class="content">
            <!-- å‡è„‚æœŸ -->
            <div class="demo-section">
                <h3>å‡è„‚æœŸï¼ˆæ¶ˆè€—å¤§äºæ‘„å…¥ï¼‰</h3>
                <CalorieBalanceChart :calorieData="weightLossData" :targetIntake="1800" :showSuggestion="true" />
            </div>

            <!-- ç»´æŒæœŸ -->
            <div class="demo-section">
                <h3>ä½“é‡ç»´æŒæœŸï¼ˆå¹³è¡¡çŠ¶æ€ï¼‰</h3>
                <CalorieBalanceChart :calorieData="maintenanceData" :targetIntake="2000" :showSuggestion="true" />
            </div>

            <!-- å¢è‚ŒæœŸ -->
            <div class="demo-section">
                <h3>å¢è‚ŒæœŸï¼ˆæ‘„å…¥å¤§äºæ¶ˆè€—ï¼‰</h3>
                <CalorieBalanceChart :calorieData="bulkingData" :targetIntake="2500" :showSuggestion="true" />
            </div>

            <!-- è‡ªå®šä¹‰é¢œè‰² -->
            <div class="demo-section">
                <h3>è‡ªå®šä¹‰é…è‰²</h3>
                <CalorieBalanceChart chartTitle="æœ¬å‘¨å¡è·¯é‡Œå¯¹æ¯”" :calorieData="customData" intakeColor="#8b5cf6"
                    burnColor="#06b6d4" :showSuggestion="true" />
            </div>

            <!-- å¡è·¯é‡ŒçŸ¥è¯† -->
            <div class="info-panel">
                <h3>å¡è·¯é‡Œå¹³è¡¡çŸ¥è¯†</h3>

                <div class="info-section">
                    <h4>ğŸ“Š åŸºç¡€ä»£è°¢ç‡(BMR)</h4>
                    <div class="bmr-info">
                        <p>åŸºç¡€ä»£è°¢ç‡æ˜¯ç»´æŒç”Ÿå‘½åŸºæœ¬æ´»åŠ¨æ‰€éœ€çš„æœ€ä½èƒ½é‡ã€‚</p>
                        <div class="formula-box">
                            <div class="formula-title">ç”·æ€§BMRè®¡ç®—ï¼š</div>
                            <div class="formula-text">10 Ã— ä½“é‡(kg) + 6.25 Ã— èº«é«˜(cm) - 5 Ã— å¹´é¾„ + 5</div>
                        </div>
                        <div class="formula-box">
                            <div class="formula-title">å¥³æ€§BMRè®¡ç®—ï¼š</div>
                            <div class="formula-text">10 Ã— ä½“é‡(kg) + 6.25 Ã— èº«é«˜(cm) - 5 Ã— å¹´é¾„ - 161</div>
                        </div>
                    </div>
                </div>

                <div class="info-section">
                    <h4>ğŸ¯ æ¯æ—¥æ€»æ¶ˆè€—(TDEE)</h4>
                    <div class="tdee-table">
                        <div class="tdee-row">
                            <span class="activity-level">ä¹…åä¸åŠ¨</span>
                            <span class="multiplier">BMR Ã— 1.2</span>
                        </div>
                        <div class="tdee-row">
                            <span class="activity-level">è½»åº¦æ´»åŠ¨</span>
                            <span class="multiplier">BMR Ã— 1.375</span>
                        </div>
                        <div class="tdee-row">
                            <span class="activity-level">ä¸­åº¦æ´»åŠ¨</span>
                            <span class="multiplier">BMR Ã— 1.55</span>
                        </div>
                        <div class="tdee-row">
                            <span class="activity-level">é«˜å¼ºåº¦æ´»åŠ¨</span>
                            <span class="multiplier">BMR Ã— 1.725</span>
                        </div>
                        <div class="tdee-row">
                            <span class="activity-level">ä¸“ä¸šè¿åŠ¨å‘˜</span>
                            <span class="multiplier">BMR Ã— 1.9</span>
                        </div>
                    </div>
                </div>

                <div class="info-section">
                    <h4>âš–ï¸ ä½“é‡å˜åŒ–è§„å¾‹</h4>
                    <div class="weight-rules">
                        <div class="rule-item surplus">
                            <div class="rule-icon">ğŸ“ˆ</div>
                            <div class="rule-content">
                                <div class="rule-title">ç›ˆä½™7700åƒå¡ â‰ˆ å¢é‡1å…¬æ–¤</div>
                                <div class="rule-desc">æ‘„å…¥æŒç»­å¤§äºæ¶ˆè€—</div>
                            </div>
                        </div>
                        <div class="rule-item deficit">
                            <div class="rule-icon">ğŸ“‰</div>
                            <div class="rule-content">
                                <div class="rule-title">èµ¤å­—7700åƒå¡ â‰ˆ å‡é‡1å…¬æ–¤</div>
                                <div class="rule-desc">æ¶ˆè€—æŒç»­å¤§äºæ‘„å…¥</div>
                            </div>
                        </div>
                        <div class="rule-item balanced">
                            <div class="rule-icon">âš–ï¸</div>
                            <div class="rule-content">
                                <div class="rule-title">å¹³è¡¡çŠ¶æ€ = ç»´æŒä½“é‡</div>
                                <div class="rule-desc">æ‘„å…¥â‰ˆæ¶ˆè€—</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="info-section">
                    <h4>ğŸ’¡ å¥åº·å»ºè®®</h4>
                    <ul class="tips-list">
                        <li>å‡è„‚ï¼šæ¯æ—¥èµ¤å­—300-500åƒå¡è¾ƒå¥åº·</li>
                        <li>å¢è‚Œï¼šæ¯æ—¥ç›ˆä½™200-400åƒå¡é…åˆåŠ›é‡è®­ç»ƒ</li>
                        <li>é¿å…æç«¯èŠ‚é£Ÿï¼Œæ¯æ—¥æ‘„å…¥ä¸ä½äºåŸºç¡€ä»£è°¢ç‡</li>
                        <li>å…³æ³¨è¥å…»å‡è¡¡ï¼Œä¸åªæ˜¯å…³æ³¨æ€»çƒ­é‡</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</template>

<script>
import { useRouter } from 'vue-router';
import CalorieBalanceChart from '../../../packages/src/components/CalorieBalanceChart/index.vue';

export default {
    name: 'CalorieBalanceChartDemo',
    components: {
        CalorieBalanceChart
    },
    setup() {
        const router = useRouter();

        const goBack = () => {
            router.back();
        };

        return {
            goBack
        };
    },
    data() {
        return {
            // å‡è„‚æœŸæ•°æ®
            weightLossData: [
                { date: 'å‘¨ä¸€', intake: 1650, burn: 2100 },
                { date: 'å‘¨äºŒ', intake: 1580, burn: 2200 },
                { date: 'å‘¨ä¸‰', intake: 1720, burn: 2050 },
                { date: 'å‘¨å››', intake: 1600, burn: 2300 },
                { date: 'å‘¨äº”', intake: 1680, burn: 2150 },
                { date: 'å‘¨å…­', intake: 1550, burn: 2400 },
                { date: 'å‘¨æ—¥', intake: 1750, burn: 1980 }
            ],

            // ç»´æŒæœŸæ•°æ®
            maintenanceData: [
                { date: 'å‘¨ä¸€', intake: 2050, burn: 2100 },
                { date: 'å‘¨äºŒ', intake: 1980, burn: 2020 },
                { date: 'å‘¨ä¸‰', intake: 2100, burn: 2050 },
                { date: 'å‘¨å››', intake: 2020, burn: 2080 },
                { date: 'å‘¨äº”', intake: 2150, burn: 2100 },
                { date: 'å‘¨å…­', intake: 1950, burn: 1980 },
                { date: 'å‘¨æ—¥', intake: 2080, burn: 2050 }
            ],

            // å¢è‚ŒæœŸæ•°æ®
            bulkingData: [
                { date: 'å‘¨ä¸€', intake: 2650, burn: 2300 },
                { date: 'å‘¨äºŒ', intake: 2800, burn: 2450 },
                { date: 'å‘¨ä¸‰', intake: 2700, burn: 2200 },
                { date: 'å‘¨å››', intake: 2900, burn: 2500 },
                { date: 'å‘¨äº”', intake: 2750, burn: 2350 },
                { date: 'å‘¨å…­', intake: 2850, burn: 2400 },
                { date: 'å‘¨æ—¥', intake: 2600, burn: 2150 }
            ],

            // è‡ªå®šä¹‰æ•°æ®
            customData: [
                { date: '1/18', intake: 2200, burn: 2000 },
                { date: '1/19', intake: 1900, burn: 2300 },
                { date: '1/20', intake: 2100, burn: 2100 },
                { date: '1/21', intake: 2400, burn: 1950 },
                { date: '1/22', intake: 2000, burn: 2250 },
                { date: '1/23', intake: 2300, burn: 2400 },
                { date: '1/24', intake: 1850, burn: 2050 }
            ]
        };
    }
};
</script>

<style scoped>
.calorie-balance-chart-demo {
    background: #f5f5f5;
    min-height: 100vh;
    height: 100vh;
    overflow-y: auto;
    overflow-x: hidden;
}

.content {
    padding: 62px 20px 20px;
}

h3 {
    font-size: 16px;
    color: #666;
    margin-bottom: 12px;
}

.demo-section {
    margin-bottom: 30px;
}

.info-panel {
    background: #fff;
    padding: 20px;
    border-radius: 16px;
    margin-top: 20px;
}

.info-panel h3 {
    margin-bottom: 20px;
    font-size: 15px;
    color: #333;
    font-weight: 600;
}

.info-section {
    margin-bottom: 24px;
}

.info-section:last-child {
    margin-bottom: 0;
}

.info-section h4 {
    font-size: 14px;
    color: #333;
    margin-bottom: 12px;
    font-weight: 600;
}

.bmr-info p {
    font-size: 13px;
    color: #666;
    margin-bottom: 12px;
    line-height: 1.6;
}

.formula-box {
    padding: 12px;
    background: #f7f8fa;
    border-radius: 8px;
    margin-bottom: 8px;
}

.formula-box:last-child {
    margin-bottom: 0;
}

.formula-title {
    font-size: 12px;
    color: #999;
    margin-bottom: 4px;
}

.formula-text {
    font-size: 13px;
    color: #333;
    font-weight: 500;
    font-family: monospace;
}

.tdee-table {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.tdee-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px 12px;
    background: #f7f8fa;
    border-radius: 8px;
}

.activity-level {
    font-size: 13px;
    color: #333;
    font-weight: 500;
}

.multiplier {
    font-size: 13px;
    color: #0ea5e9;
    font-weight: 600;
}

.weight-rules {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.rule-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px;
    border-radius: 12px;
}

.rule-item.surplus {
    background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%);
}

.rule-item.deficit {
    background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
}

.rule-item.balanced {
    background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);
}

.rule-icon {
    font-size: 28px;
    flex-shrink: 0;
}

.rule-content {
    flex: 1;
}

.rule-title {
    font-size: 14px;
    color: #333;
    font-weight: 600;
    margin-bottom: 2px;
}

.rule-desc {
    font-size: 12px;
    color: #666;
}

.tips-list {
    list-style: none;
    padding: 0;
    margin: 0;
}

.tips-list li {
    font-size: 13px;
    color: #666;
    padding: 6px 0;
    padding-left: 16px;
    position: relative;
}

.tips-list li::before {
    content: 'â€¢';
    position: absolute;
    left: 0;
    color: #f59e0b;
    font-weight: bold;
}
</style>
