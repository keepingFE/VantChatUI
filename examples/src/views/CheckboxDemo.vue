<template>
  <Chat ref="chatRef">
    <template #navbar>
      <van-nav-bar
        title="Checkbox å¤é€‰æ¡†"
        left-arrow
        fixed
        @click-left="goBack"
      />
    </template>

    <template #default>
      <!-- åŸºç¡€ç”¨æ³• -->
      <div class="demo-section">
        <div class="section-title">åŸºç¡€ç”¨æ³•</div>
        <Checkbox v-model="checked1" label="å¤é€‰æ¡†" @change="handleChange" />
        <div class="demo-result">é€‰ä¸­çŠ¶æ€: {{ checked1 }}</div>
      </div>

      <!-- ç¦ç”¨çŠ¶æ€ -->
      <div class="demo-section">
        <div class="section-title">ç¦ç”¨çŠ¶æ€</div>
        <Checkbox v-model="checked2" label="æœªé€‰ä¸­ç¦ç”¨" disabled />
        <Checkbox v-model="checked3" label="é€‰ä¸­ç¦ç”¨" disabled />
      </div>

      <!-- è‡ªå®šä¹‰å½¢çŠ¶ -->
      <div class="demo-section">
        <div class="section-title">è‡ªå®šä¹‰å½¢çŠ¶</div>
        <Checkbox v-model="checked4" label="åœ†å½¢å¤é€‰æ¡†" shape="round" />
        <Checkbox v-model="checked5" label="æ–¹å½¢å¤é€‰æ¡†" shape="square" />
      </div>

      <!-- è‡ªå®šä¹‰é¢œè‰² -->
      <div class="demo-section">
        <div class="section-title">è‡ªå®šä¹‰é¢œè‰²</div>
        <Checkbox v-model="checked6" label="ABC" checked-color="#1989fa" />
        <Checkbox v-model="checked7" label="å¯é€‰é¡¹AB" checked-color="#ff6600" />
        <Checkbox v-model="checked8" label="abc" checked-color="#52c41a" />
      </div>

      <!-- è‡ªå®šä¹‰å›¾æ ‡å¤§å° -->
      <div class="demo-section">
        <div class="section-title">è‡ªå®šä¹‰å›¾æ ‡å¤§å°</div>
        <Checkbox v-model="checked10" label="å°å·16px" icon-size="16px" />
        <Checkbox v-model="checked11" label="é»˜è®¤20px" icon-size="20px" />
        <Checkbox v-model="checked12" label="å¤§å·24px" icon-size="24px" />
      </div>

      <!-- æ–‡æœ¬ä½ç½® -->
      <div class="demo-section">
        <div class="section-title">æ–‡æœ¬ä½ç½®</div>
        <Checkbox
          v-model="checked13"
          label="æ–‡æœ¬åœ¨å³ä¾§"
          label-position="right"
        />
        <Checkbox
          v-model="checked14"
          label="æ–‡æœ¬åœ¨å·¦ä¾§"
          label-position="left"
        />
      </div>

      <!-- å¤é€‰æ¡†ç»„ - åŸºç¡€ç”¨æ³• -->
      <div class="demo-section">
        <div class="section-title">å¤é€‰æ¡†ç»„ - åŸºç¡€ç”¨æ³•</div>
        <CheckboxGroup v-model="result1" @change="handleGroupChange">
          <Checkbox name="apple" label="Apple" />
          <Checkbox name="pear" label="Pear" />
          <Checkbox name="orange" label="Orange" />
        </CheckboxGroup>
        <div class="demo-result">é€‰ä¸­: {{ result1.join(", ") || "æ— " }}</div>
      </div>

      <!-- å¤é€‰æ¡†ç»„ - æ°´å¹³æ’åˆ— -->
      <div class="demo-section">
        <div class="section-title">å¤é€‰æ¡†ç»„ - æ°´å¹³æ’åˆ—</div>
        <CheckboxGroup v-model="result2" direction="horizontal">
          <Checkbox name="apple" label="Apple" />
          <Checkbox name="pear" label="Pear" />
          <Checkbox name="orange" label="Orange" />
          <Checkbox name="banana" label="Banana" />
        </CheckboxGroup>
        <div class="demo-result">é€‰ä¸­: {{ result2.join(", ") || "æ— " }}</div>
      </div>

      <!-- å¤é€‰æ¡†ç»„ - é™åˆ¶æœ€å¤§å¯é€‰æ•° -->
      <div class="demo-section">
        <div class="section-title">å¤é€‰æ¡†ç»„ - é™åˆ¶æœ€å¤§å¯é€‰æ•°ï¼ˆæœ€å¤šé€‰2ä¸ªï¼‰</div>
        <CheckboxGroup v-model="result3" :max="2">
          <Checkbox name="apple" label="Apple" />
          <Checkbox name="pear" label="Pear" />
          <Checkbox name="orange" label="Orange" />
          <Checkbox name="banana" label="Banana" />
        </CheckboxGroup>
        <div class="demo-result">é€‰ä¸­: {{ result3.join(", ") || "æ— " }}</div>
      </div>

      <!-- å¤é€‰æ¡†ç»„ - å…¨é€‰/åé€‰ -->
      <div class="demo-section">
        <div class="section-title">å¤é€‰æ¡†ç»„ - å…¨é€‰/åé€‰</div>
        <Flex gap="8px" style="margin-bottom: 12px">
          <Button text="å…¨é€‰" type="primary" size="sm" @click="checkAll" />
          <Button text="åé€‰" type="default" size="sm" @click="toggleAll" />
          <Button text="æ¸…ç©º" type="default" size="sm" @click="clearAll" />
        </Flex>
        <CheckboxGroup v-model="result4">
          <Checkbox name="apple" label="Apple" />
          <Checkbox name="pear" label="Pear" />
          <Checkbox name="orange" label="Orange" />
          <Checkbox name="banana" label="Banana" />
        </CheckboxGroup>
        <div class="demo-result">é€‰ä¸­: {{ result4.join(", ") || "æ— " }}</div>
      </div>

      <!-- å®é™…åº”ç”¨ - å…´è¶£é€‰æ‹© -->
      <div class="demo-section">
        <div class="section-title">å®é™…åº”ç”¨ - å…´è¶£é€‰æ‹©</div>
        <div class="interest-card">
          <div class="interest-title">è¯·é€‰æ‹©æ‚¨çš„å…´è¶£çˆ±å¥½</div>
          <CheckboxGroup v-model="interests" direction="horizontal">
            <Checkbox
              v-for="item in interestOptions"
              :key="item.value"
              :name="item.value"
            >
              <div class="interest-item">
                <div class="interest-icon">{{ item.icon }}</div>
                <div class="interest-label">{{ item.label }}</div>
              </div>
            </Checkbox>
          </CheckboxGroup>
          <div class="demo-result" style="margin-top: 12px">
            å·²é€‰æ‹©: {{ interests.length }} é¡¹
          </div>
        </div>
      </div>

      <!-- å®é™…åº”ç”¨ - æœåŠ¡åè®® -->
      <div class="demo-section">
        <div class="section-title">å®é™…åº”ç”¨ - æœåŠ¡åè®®</div>
        <div class="agreement-card">
          <Checkbox v-model="agreeTerms">
            <span>
              æˆ‘å·²é˜…è¯»å¹¶åŒæ„
              <span style="color: #1989fa">ã€ŠæœåŠ¡åè®®ã€‹</span>
              å’Œ
              <span style="color: #1989fa">ã€Šéšç§æ”¿ç­–ã€‹</span>
            </span>
          </Checkbox>
          <Button
            text="æäº¤"
            type="primary"
            block
            :disabled="!agreeTerms"
            style="margin-top: 16px"
            @click="handleSubmit"
          />
        </div>
      </div>
    </template>
  </Chat>
</template>

<script setup>
import { ref } from "vue";
import { useRouter } from "vue-router";
import {
  Chat,
  Checkbox,
  CheckboxGroup,
  Flex,
  Button,
} from "../../../packages/src/index.js";
import { showToast } from "vant";

const router = useRouter();
const chatRef = ref(null);

// åŸºç¡€ç”¨æ³•
const checked1 = ref(false);

// ç¦ç”¨çŠ¶æ€
const checked2 = ref(false);
const checked3 = ref(true);

// è‡ªå®šä¹‰å½¢çŠ¶
const checked4 = ref(true);
const checked5 = ref(true);

// è‡ªå®šä¹‰é¢œè‰²
const checked6 = ref(true);
const checked7 = ref(true);
const checked8 = ref(true);
const checked9 = ref(true);

// è‡ªå®šä¹‰å›¾æ ‡å¤§å°
const checked10 = ref(true);
const checked11 = ref(true);
const checked12 = ref(true);

// æ–‡æœ¬ä½ç½®
const checked13 = ref(true);
const checked14 = ref(true);

// å¤é€‰æ¡†ç»„
const result1 = ref(["apple"]);
const result2 = ref(["apple", "pear"]);
const result3 = ref(["apple"]);
const result4 = ref(["apple"]);

// å…¨é€‰/åé€‰ç›¸å…³
const allOptions = ["apple", "pear", "orange", "banana"];

const checkAll = () => {
  result4.value = [...allOptions];
};

const toggleAll = () => {
  result4.value = allOptions.filter((item) => !result4.value.includes(item));
};

const clearAll = () => {
  result4.value = [];
};

// å…´è¶£é€‰æ‹©
const interests = ref(["sports", "music"]);
const interestOptions = [
  { value: "sports", label: "è¿åŠ¨", icon: "âš½" },
  { value: "music", label: "éŸ³ä¹", icon: "ğŸµ" },
  { value: "reading", label: "é˜…è¯»", icon: "ğŸ“š" },
  { value: "travel", label: "æ—…è¡Œ", icon: "âœˆï¸" },
  { value: "food", label: "ç¾é£Ÿ", icon: "ğŸ”" },
  { value: "movie", label: "ç”µå½±", icon: "ğŸ¬" },
];

// æœåŠ¡åè®®
const agreeTerms = ref(false);

const handleChange = (value) => {
  console.log("change:", value);
};

const handleGroupChange = (value) => {
  console.log("group change:", value);
};

const handleSubmit = () => {
  showToast("æäº¤æˆåŠŸ");
};

const goBack = () => {
  router.back();
};
</script>

<style scoped lang="scss">
.demo-section {
  padding: 0;
  background: #ffffff;
  margin-bottom: 12px;

  &:first-child {
    margin-top: 0;
  }
}

.section-title {
  font-size: 14px;
  color: #646566;
  padding: 16px 16px 8px 16px;
  font-weight: 400;
}

.demo-result {
  margin: 12px 16px;
  padding: 12px;
  background: #f7f8fa;
  border-radius: 4px;
  font-size: 14px;
  color: #323233;
}

// ä¸ºå¤é€‰æ¡†æ·»åŠ é—´è·
:deep(.van-checkbox) {
  padding: 12px 16px;

  &:not(:last-child) {
    border-bottom: 1px solid #f7f8fa;
  }
}

// å¤é€‰æ¡†ç»„æ ·å¼
:deep(.van-checkbox-group) {
  background: #ffffff;
}

:deep(.van-checkbox-group--horizontal) {
  padding: 12px 16px;
  display: flex;
  flex-wrap: wrap;
  gap: 8px;

  .van-checkbox {
    padding: 0;
    border-bottom: none;
  }
}

.interest-card {
  background: #ffffff;
  padding: 16px;
}

.interest-title {
  font-size: 16px;
  font-weight: 500;
  color: #323233;
  margin-bottom: 16px;
}

.interest-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
  padding: 8px 12px;
}

.interest-icon {
  font-size: 24px;
}

.interest-label {
  font-size: 12px;
  color: #646566;
}

.agreement-card {
  background: #ffffff;
  padding: 16px;
}
</style>
```
